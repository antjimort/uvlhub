{% extends "base_template.html" %}

{% block title %}Generate random feature models{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2><b>Generate</b> random feature models</h2>
    <div class="d-flex justify-content-center mt-4 mb-5">
        <div class="stepper-wrapper" style="width: 70%">
            <div class="stepper-item completed">
                <div class="step-counter">1</div>
                <div class="step-name">General information</div>
            </div>
            <div class="stepper-item">
                <div class="step-counter">2</div>
                <div class="step-name"></div>
            </div>
            <div class="stepper-item">
                <div class="step-counter">3</div>
                <div class="step-name"></div>
            </div>
            <div class="stepper-item">
                <div class="step-counter">4</div>
                <div class="step-name"></div>
            </div>
            <div class="stepper-item">
                <div class="step-counter">5</div>
                <div class="step-name"></div>
            </div>
        </div>
    </div>

    <form id="generator-wizard-step1" method="post" action="{{ url_for('generator.step1') }}">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <!-- Number of models -->
                <div class="mb-3">
                    <label for="num_models" class="form-label">Number of models</label>
                    <input type="range" class="form-range" min="0" max="10000" step="1" id="num_models" name="num_models" value="4000" oninput="num_models_val.value = num_models.value">
                    <input type="number" id="num_models_val" name="num_models_val" min="0" max="10000" value="4000" class="form-control mt-1" style="width: 100px;" oninput="num_models.value = num_models_val.value">
                </div>

                <!-- Seed -->
                <div class="mb-3 form-check">
                    <input class="form-check-input" type="checkbox" id="use_seed" name="use_seed" checked>
                    <label class="form-check-label" for="use_seed">Seed</label>
                    <input type="number" class="form-control mt-1" id="seed" name="seed" value="42" style="width: 100px;">
                </div>

                <!-- Satisfiable -->
                <div class="mb-3 form-check">
                    <input class="form-check-input" type="checkbox" id="ensure_satisfiable" name="ensure_satisfiable" checked>
                    <label class="form-check-label" for="ensure_satisfiable">Ensure satisfiable</label>
                </div>

                <!-- Name Prefix -->
                <div class="mb-3">
                    <label for="name_prefix" class="form-label">Name/Prefix</label>
                    <input type="text" class="form-control" id="name_prefix" name="name_prefix" placeholder="e.g. fm">
                </div>

                <!-- Suffixes -->
                <div class="mb-3 form-check">
                    <input class="form-check-input" type="checkbox" id="feature_count_suffix" name="feature_count_suffix">
                    <label class="form-check-label" for="feature_count_suffix">Include number of features as name's suffix</label>
                </div>
                <div class="mb-3 form-check">
                    <input class="form-check-input" type="checkbox" id="constraint_count_suffix" name="constraint_count_suffix">
                    <label class="form-check-label" for="constraint_count_suffix">Include number of constraints as name's suffix</label>
                </div>
                <button type="submit" class="btn btn-primary float-end">Next &gt;</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<!-- Puedes añadir JS para la sincronización del slider y el input -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const num_models = document.getElementById('num_models');
    const num_models_val = document.getElementById('num_models_val');
    num_models_val.value = num_models.value;

    num_models.addEventListener('input', function() {
        num_models_val.value = num_models.value;
    });
    num_models_val.addEventListener('input', function() {
        num_models.value = num_models_val.value;
    });
});
</script>
{% endblock %}
